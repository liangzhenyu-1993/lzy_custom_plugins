;(function(c,b,a,d){c.extend({initPopup:function(i){var f=function(o){o=o.toLowerCase();var r=function(){var v="N,O,P,Q,R,S,T,U,V,W,X,Y,Z,M,L,K,J".split(",");var u="dark,deep,light,medium,white,red,black,aqua,green,blue,yellow,orange,pink,00,ff,80,ee".split(",");var s='{"aliceW":"f0f8L","antiqueR":"faebd7","U":"MLL","Umarine":"7Lfd4","azure":"f0LL","beige":"f5f5dc","bisque":"Le4c4","T":"MMM","blanchedalmond":"Lebcd","W":"MML","Wviolet":"8a2be2","brown":"a52a2a","burlywood":"deb887","cadetW":"5f9ea0","chartreuse":"7LfM","chocolate":"d2691e","coral":"L7f50","cornflowerW":"6495ed","cornsilk":"Lf8dc","crimson":"dc143c","cyan":"MLL","NW":"MM8b","Ncyan":"M8b8b","Ngoldenrod":"b886b","Ngray":"a9a9a9","NV":"M64M","Nkhaki":"bdb76b","Nmagenta":"8bM8b","NoliveV":"556b2f","NY":"L8cM","Norchid":"9932cc","NS":"8bMM","Nsalmon":"e9967a","NseaV":"8fbc8f","NslateW":"483d8b","Nslategray":"2f4f4f","Nturquoise":"Mced1","Nviolet":"94Md3","OZ":"L1493","OskyW":"MbLf","dimgray":"696969","dodgerW":"1e90L","feldspar":"d19275","firebrick":"b22222","floralR":"Lfaf0","forestV":"228b22","fuchsia":"LML","gainsboro":"dcdcdc","ghostR":"f8f8L","gold":"Ld7M","goldenrod":"daa520","gray":"KKK","V":"M8M0","VX":"adL2f","honeydew":"f0Lf0","hotZ":"L69b4","indianS":"cd5c5c","indigo":"4bM82","ivory":"LLf0","khaki":"f0e68c","lavender":"e6e6fa","lavenderblush":"Lf0f5","lawnV":"7cfcM","lemonchiLon":"Lfacd","PW":"add8e6","Pcoral":"f0KK","Pcyan":"e0LL","PgoldenrodX":"fafad2","Pgrey":"d3d3d3","PV":"90K90","PZ":"Lb6c1","Psalmon":"La07a","PseaV":"20b2aa","PskyW":"87cefa","PslateW":"8470L","Pslategray":"778899","PstKlW":"b0c4de","PX":"LLe0","lime":"MLM","limeV":"32cd32","linen":"faf0e6","magenta":"LML","maroon":"8MM0","QUmarine":"66cdaa","QW":"MMcd","Qorchid":"ba55d3","Qpurple":"9370d8","QseaV":"3cb371","QslateW":"7b68K","QspringV":"Mfa9a","Qturquoise":"48d1cc","QvioletS":"c71585","midnightW":"191970","mintcream":"f5Lfa","mistyrose":"Le4e1","moccasin":"Le4b5","navajoR":"Ldead","navy":"MMK","oldlace":"fdf5e6","olive":"K8M0","olivedrab":"6b8e23","Y":"La5M","YS":"L45M","orchid":"da70d6","palegoldenrod":"Ke8aa","paleV":"98fb98","paleturquoise":"afKK","palevioletS":"d87093","papayawhip":"Lefd5","peachpuL":"Ldab9","peru":"cd853f","Z":"Lc0cb","plum":"dda0dd","powderW":"b0e0e6","purple":"8M0K","S":"LMM","rosybrown":"bc8f8f","royalW":"4169e1","saddlebrown":"8b4513","salmon":"faK72","sandybrown":"f4a460","seaV":"2e8b57","seashell":"Lf5K","sienna":"a0522d","silver":"c0c0c0","skyW":"87cKb","slateW":"6a5acd","slategray":"70K90","snow":"Lfafa","springV":"ML7f","stKlW":"4682b4","tan":"d2b48c","teal":"MKK","thistle":"d8bfd8","tomato":"L6347","turquoise":"40e0d0","violet":"K82K","violetS":"d02090","wheat":"f5deb3","R":"LLL","Rsmoke":"f5f5f5","X":"LLM","XV":"9acd32"}';for(var t=0;t<v.length;t++){s=s.replace(new RegExp(v[t],"g"),u[t])}return s};var n=function(s){var t=0,u=[];if(s.length===4){var v="#";for(t=1;t<4;t+=1){v+=s.slice(t,t+1).concat(s.slice(t,t+1))}s=v}for(t=1;t<7;t+=2){u.push(parseInt("0x"+s.slice(t,t+2)))}return"rgb("+u[0]+","+u[1]+","+u[2]+")"};if(o.indexOf("rgba")>=0){return o}else{if(o&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/.test(o)){return n(o)}else{if(o.indexOf("rgb")>=0){if(o.indexOf("%")>=0){var q=o.replace("rgb(","").replace(")","").replace(/%/g,"").split(",");return"rgb("+parseInt(q[0]/100*255)+","+parseInt(q[1]/100*255)+","+parseInt(q[2]/100*255)+")"}return o}else{var p=JSON.parse(r())[o];if(!p){console.error("抱歉！无该英文颜色");return o}return n(p)}}}};var j=function(o,p){var n=p||0.5;if(o.indexOf("rgba")>=0){return o.substr(0,o.lastIndexOf(","))+","+parseFloat(o.substr(o.lastIndexOf(",")+1,o.lastIndexOf(")")-1))*n+")"}var q=f(o).replace("rgb(","").replace(")","").split(",");return"rgba("+q[0]+","+q[1]+","+q[2]+","+n+")"};var m=function(n,p){p=p||0.5;var o=f(n).replace("rgb(","").replace(")","").split(",");return"rgb("+parseInt(o[0]*p)+","+parseInt(o[1]*p)+","+parseInt(o[2]*p)+")"};var e=function(){var q=navigator.userAgent;var o=q.indexOf("compatible")>-1&&q.indexOf("MSIE")>-1;var p=q.indexOf("Edge")>-1&&!o;var r=q.indexOf("Trident")>-1&&q.indexOf("rv:11.0")>-1;if(o){new RegExp("MSIE (\\d+\\.\\d+);").test(q);var n=parseInt(RegExp["$1"]);if(n===7){return 7}if(n===8){return 8}if(n===9){return 9}if(n===10){return 10}return 1}if(p){return"edge"}if(r){return 11}return false};var l=function(){return navigator.userAgent.indexOf("Firefox")>-1};var h=function(n){return !n||n==="window"||n==="document"||n==="screen"||n===b||n===a};var g=function(){var n=[],q=c("body>*");for(var o=0;o<q.length;o++){var r=c(q[o]).css("zIndex");n.push(isNaN(r)?0:r)}var p=n.length?Math.max.apply(null,n):0;return p>999999?p+1:1000000};var k=function(n){this.version="v1.3.5";this.cfg=null;this.fullTemp={full:false};this.openEvents=[];this.closeEvents=[];this.$icon=c("<div class='lzy_nav_icon'>!</div>");this.$title=c("<div class='lzy_nav_title'>消息</div>");this.$close=c("<svg class='lzy_nav_close'><rect width='18' height='18'/><line x1='4' y1='4' x2='14' y2='14'/><line x1='4' y1='14' x2='14' y2='4'/></svg>");this.$full=c("<div class='lzy_nav_full'></div>");this.$nav=c("<div class='lzy_popup_nav'></div>").append(this.$icon).append(this.$title).append(this.$close).append(this.$full);this.$cont=c("<div class='lzy_popup_cont'></div>");this.$footer=c("<div class='lzy_popup_footer'></div>");this.$popupObj=c("<div class='lzy_custom_popup'></div>").append(this.$nav).append(this.$cont).append(this.$footer);this.$bgObj=c("<div class='lzy_custom_bg'></div>");this.zoominBtn="<svg><rect x='4' y='4' width='10' height='10' style='stroke: %color' /></svg>";this.zoomoutBtn="<svg><rect x='4' y='6' width='8' height='8' style='stroke: %color'/><line x1='5' y1='4' x2='14' y2='4' style='stroke: %color'/><line x1='14' y1='3' x2='14' y2='13' style='stroke: %color'/></svg>";this.zoomBtnColor="";this.setStyle(n,true)};k.prototype={setStyle:function(o,n){o=o||{};var q=function(r){return r===null||typeof(r)==="undefined"};if(n){this.cfg={width:o.width||350,height:o.height||200,border:o.border||"1px solid black",borderRadius:q(o.borderRadius)?5:o.borderRadius,themeColor:o.themeColor||"#358aff",themeStyle:(o.themeStyle||"default").toLowerCase(),animation:o.animation||1,isShowIcon:q(o.isShowIcon)?true:o.isShowIcon,icon:o.icon||null,allowedFullscreen:o.allowedFullscreen,allowedKeyboard:q(o.allowedKeyboard)?true:o.allowedKeyboard,content:o.content||null,title:o.title||null,buttonAlign:o.buttonAlign||"right",isShowShadow:q(o.isShowShadow)?true:o.isShowShadow,shadowSize:q(o.shadowSize)?12:o.shadowSize,isShowBg:o.isShowBg,isClickBgClose:q(o.isClickBgClose)?true:o.isClickBgClose,allowedMove:o.allowedMove,targetSelector:o.targetSelector||"window",insideOrFollow:(o.insideOrFollow||"inside").toLowerCase(),relativePosition:(o.relativePosition||"center").toLowerCase(),relativeOffset:q(o.relativeOffset)?10:o.relativeOffset};if(!o.relativePosition&&this.cfg.insideOrFollow==="follow"){this.cfg.relativePosition="right bottom"}}else{this.cfg={width:o.width||this.cfg.width,height:o.height||this.cfg.height,border:o.border||this.cfg.border,borderRadius:!q(o.borderRadius)?o.borderRadius:this.cfg.borderRadius,themeColor:o.themeColor||this.cfg.themeColor,themeStyle:(o.themeStyle||this.cfg.themeStyle).toLowerCase(),animation:o.animation||this.cfg.animation,isShowIcon:!q(o.isShowIcon)?o.isShowIcon:this.cfg.isShowIcon,icon:o.icon||this.cfg.icon,allowedFullscreen:!q(o.allowedFullscreen)?o.allowedFullscreen:this.cfg.allowedFullscreen,allowedKeyboard:!q(o.allowedKeyboard)?o.allowedKeyboard:this.cfg.allowedKeyboard,content:o.content||this.cfg.content,title:o.title||this.cfg.title,buttonAlign:o.buttonAlign||this.cfg.buttonAlign,isShowShadow:!q(o.isShowShadow)?o.isShowShadow:this.cfg.isShowShadow,shadowSize:!q(o.shadowSize)?o.shadowSize:this.cfg.shadowSize,isShowBg:!q(o.isShowBg)?o.isShowBg:this.cfg.isShowBg,isClickBgClose:!q(o.isClickBgClose)?o.isClickBgClose:this.cfg.isClickBgClose,allowedMove:!q(o.allowedMove)?o.allowedMove:this.cfg.allowedMove,targetSelector:o.targetSelector||this.cfg.targetSelector,insideOrFollow:(o.insideOrFollow||this.cfg.insideOrFollow).toLowerCase(),relativePosition:(o.relativePosition||this.cfg.relativePosition).toLowerCase(),relativeOffset:!q(o.relativeOffset)?o.relativeOffset:this.cfg.relativeOffset}}var p=this;this.$popupObj.off("click").on("click",function(r){r.stopPropagation();if(p.cfg.isShowBg){p.$bgObj.css("z-index",g())}else{p.$popupObj.css("z-index",g())}});this.$popupObj.css({"width":this.cfg.width,"height":this.cfg.height,"border":this.cfg.border,"border-radius":this.cfg.borderRadius});this.$footer.css({"text-align":o.buttonAlign});this.$popupObj.css({"border-color":this.cfg.themeColor});this.$nav.css({"border-bottom-color":this.cfg.themeColor});if(this.cfg.themeStyle==="default"){this.$nav.css({"background-color":this.cfg.themeColor});this.$icon.css({"border-color":"#fff","color":"#fff"});this.$title.css({"color":"#fff"});this.$close.find("line").css({"stroke":"#fff"});this.zoomBtnColor="#fff"}if(this.cfg.themeStyle==="dimnav"){this.$nav.css({"background-color":j(this.cfg.themeColor,0.15)});this.$icon.css({"border-color":this.cfg.themeColor,"color":this.cfg.themeColor});this.$title.css({"color":"#000"});this.$close.find("line").css({"stroke":this.cfg.themeColor});this.zoomBtnColor=this.cfg.themeColor}this.$close.off("mouseenter mouseleave click").hover(function(){c(this).find("rect").css("fill",p.cfg.themeStyle==="default"?m(p.cfg.themeColor,0.85):j(p.cfg.themeColor,0.25))},function(){c(this).find("rect").css("fill","rgba(0,0,0,0)")}).on("click",function(){p.closePopup()});this.$bgObj.css("background-color",j(this.cfg.themeColor,0.2));if(this.cfg.isShowBg){this.$bgObj.appendTo("body").append(this.$popupObj);this.$bgObj.off("click").on("click",function(){if(p.cfg.isClickBgClose){p.closePopup()}else{p.$popupObj.addClass("lzy_popup_show_6").removeClass("lzy_popup_show_"+p.cfg.animation);setTimeout(function(){p.$popupObj.removeClass("lzy_popup_show_6")},300)}})}else{this.$popupObj.appendTo("body")}this.$popupObj.css({"box-shadow":"0 0 "+(this.cfg.isShowShadow?this.cfg.shadowSize.toString().replace("px","")+"px "+this.cfg.themeColor:"0")});if(this.cfg.isShowIcon){if(this.cfg.icon){if(this.cfg.icon&&this.cfg.icon.indexOf("/")>=0){this.$icon.css({"background-image":"url("+this.cfg.icon+")","border-radius":0,"border":"none"}).html("")}else{this.$icon.html(this.cfg.icon)}}}else{this.$icon.hide()}if(this.cfg.allowedMove){p.$nav.addClass("lzy_popup_nav_move").off("mousedown").mousedown(function(u){var s=true;var t=u.pageX-p.$popupObj.offset().left;var r=u.pageY-p.$popupObj.offset().top;c(a).off("mousemove mouseup").mousemove(function(v){if(s){p.$popupObj.css({"left":v.pageX-t,"top":v.pageY-r})}}).mouseup(function(){s=false})})}if(this.cfg.allowedFullscreen){this.$full.show().append(c(this.zoominBtn.replace(/%color/g,this.zoomBtnColor))).off("mouseenter mouseleave click").hover(function(){c(this).css("background-color",p.cfg.themeStyle==="default"?m(p.cfg.themeColor,0.85):j(p.cfg.themeColor,0.25))},function(){c(this).css("background-color","rgba(0,0,0,0)")}).on("click",function(){c(this).css("background-color","rgba(0,0,0,0)");if(c(this).find("line").length===0){c(this).html(c(p.zoomoutBtn.replace(/%color/g,p.zoomBtnColor)));p.fullTemp={top:p.$popupObj.css("top"),left:p.$popupObj.css("left"),full:true};p.$popupObj.animate({"top":1,"left":1,"width":b.innerWidth-p.$popupObj.css("border-left-width").replace("px","")*2-2,"height":b.innerHeight-p.$popupObj.css("border-left-width").replace("px","")*2-2},"fast")}else{c(this).html(c(p.zoominBtn.replace(/%color/g,p.zoomBtnColor)));p.fullTemp.full=false;p.$popupObj.animate({"top":p.fullTemp.top,"left":p.fullTemp.left,"width":p.cfg.width,"height":p.cfg.height},"fast")}})}if(this.cfg.allowedKeyboard){c(a).on("keyup",function(r){var s=r||b.event||arguments.callee.caller.arguments[0];if(s&&s.keyCode===27){p.closePopup()}})}if(this.cfg.title){this.$title.html(this.cfg.title)}if(this.cfg.content){if(c(this.cfg.content).get(0)){this.$cont.append(c(this.cfg.content))}else{this.$cont.html("<span>"+this.cfg.content+"</span>")}}if(e()){this.$title.css("line-height","33px")}return this},showPopup:function(t,w){try{for(var o=0;o<this.openEvents.length;o++){this.openEvents[o].call(this)}}catch(s){console.error(s)}if(this.fullTemp.full){this.$popupObj.css({"top":1,"left":1,"margin-top":0,"margin-left":0,"width":b.innerWidth-this.$popupObj.css("border-left-width").replace("px","")*2-2,"height":b.innerHeight-this.$popupObj.css("border-left-width").replace("px","")*2-2})}else{var u,n=this.cfg.relativePosition,q=this;var z=this.cfg.width/2,p=this.cfg.height/2,r=this.cfg.relativeOffset;var v=function(B,A){q.$popupObj.css({"left":parseFloat(B)-q.cfg.width/2,"top":parseFloat(A)-q.cfg.height/2})};var x=function(){var B=0;for(var A=1;A<arguments.length;A++){if(arguments[0].indexOf(arguments[A])>=0){B++}}return B===arguments.length-1};if(this.cfg.insideOrFollow==="follow"){if(h(this.cfg.targetSelector)){console.error("无法获取参照节点(targetSelector)的位置，请检查是否使用屏幕作参照对象(targetSelector='window')! \n");return false}u=c(this.cfg.targetSelector).get(0).getBoundingClientRect();if(x(n,"top")){v(u.left+z,u.top-p-r)}if(x(n,"bottom")){v(u.left+z,u.bottom+p+r)}if(x(n,"left")){v(u.left-z-r,u.top+p)}if(x(n,"right")){v(u.right+z+r,u.top+p)}if(x(n,"top","right")){v(u.right+z+r,u.top-p-r)}if(x(n,"top","left")){v(u.left-z-r,u.top-p-r)}if(x(n,"bottom","left")){v(u.left-z-r,u.bottom+p+r)}if(x(n,"bottom","right")){v(u.right+z+r,u.bottom+p+r)}}else{if("toprightbottomleftcenter".indexOf(n.replace(/\s+/g,"").substr(0,2))>=0){if(h(this.cfg.targetSelector)){u={width:b.innerWidth,height:b.innerHeight,top:0,right:0,bottom:0,left:0}}else{u=c(this.cfg.targetSelector).get(0).getBoundingClientRect()}if(x(n,"top")){v(u.left+u.width/2,u.top+p+r)}if(x(n,"bottom")){v(u.left+u.width/2,u.top+u.height-p-r)}if(x(n,"left")){v(u.left+z+r,u.top+u.height/2)}if(x(n,"right")){v(u.left+u.width-z-r,u.top+u.height/2)}if(x(n,"top","right")){v(u.left+u.width-z-r,u.top+p+r)}if(x(n,"top","left")){v(u.left+z+r,u.top+p+r)}if(x(n,"bottom","left")){v(u.left+z+r,u.top+u.height-p-r)}if(x(n,"bottom","right")){v(u.left+u.width-z-r,u.top+u.height-p-r)}if(x(n,"center")){v(u.left+u.width/2,u.top+u.height/2)}}else{var y=n.replace(/px/g,"").replace(/\s+/g,"").split(",");if(y.length===1){v(parseFloat(y[0])+z,p)}else{v(parseFloat(y[0])+z,parseFloat(y[1])+p)}}}if(this.cfg.isShowBg){this.$bgObj.css({width:u.width,height:u.height,top:u.top,left:u.left})}}if(this.$footer.find(".lzy_footer_btn").length===0){this.$cont.css("height","calc(100% - 30px)").next().css("height","0")}this.$footer.css("text-align",this.cfg.buttonAlign);this.$footer.find(".lzy_footer_btn").css({"border-color":this.cfg.themeColor,"background-color":this.cfg.themeColor});if(l()){this.$footer.find(".lzy_footer_btn").css({"height":"23px"})}if(e()){this.$footer.find(".lzy_footer_btn").css({"line-height":"24px"})}this.$footer.find(".lzy_footer_btn_close").css({"color":this.cfg.themeColor,"border-color":this.cfg.themeColor,"background-color":"white"});if(w){this.$title.html(w)}if(t&&t!==""){if(c(t).get(0)){this.$cont.html(c(t))}else{this.$cont.html("<span>"+t+"</span>")}}for(o=0;o<10;o++){this.$popupObj.removeClass("lzy_popup_close_"+o)}if(this.cfg.isShowBg){this.$bgObj.show().css("z-index",g())}this.$popupObj.css("z-index",g()).show().addClass("lzy_popup_show_"+this.cfg.animation);setTimeout(function(){q.$popupObj.show()},300);return this},closePopup:function(){var n=this;n.$popupObj.removeClass("lzy_popup_show_"+this.cfg.animation).addClass("lzy_popup_close_"+this.cfg.animation);setTimeout(function(){n.$popupObj.hide();n.$bgObj.hide();try{for(var o=0;o<n.closeEvents.length;o++){n.closeEvents[o].call(n)}}catch(p){console.error(p)}},280);return this},addButton:function(t,u){var q=this,r;var s=c("<button class='lzy_footer_btn'>"+t+"</button>").css({borderRadius:this.cfg.borderRadius}).appendTo(this.$footer).on("click",function(){if(u){u.call(q)}if(t&&(t.indexOf("关")>=0||t.indexOf("消")>=0)){q.closePopup()}}).hover(function(){r=c(this).css("background-color");c(this).css("background-color",s.hasClass("lzy_footer_btn_close")?j(q.cfg.themeColor,0.1):m(q.cfg.themeColor,0.92))},function(){c(this).css("background-color",r)});if(t&&(t.indexOf("关")>=0||t.indexOf("消")>=0)){s.addClass("lzy_footer_btn_close")}var v=0,o=q.$footer.find(".lzy_footer_btn");for(var p=0;p<o.length;p++){var n=o.eq(p).text().length<=2?38:o.eq(p).text().length*16;v+=n+22+parseFloat(o.eq(p).css("margin-right").replace("px",""))+parseFloat(o.eq(p).css("margin-left").replace("px",""))}if(v>q.$popupObj.width()){q.setStyle({width:v+20})}return this},removeButton:function(n){if(isNaN(n)){var p=this.$footer.find(".lzy_footer_btn");for(var o=0;o<p.length;o++){if(p.eq(o).text()===n){p.eq(o).remove()}}}else{this.$footer.find(".lzy_footer_btn").eq(n).remove()}},getStatus:function(){return{status:this.$popupObj.css("display")!=="none",rect:this.$popupObj.get(0).getBoundingClientRect(),version:this.version}},on:function(o,q){var n=o,p=q;if(typeof o==="function"){p=o}if(typeof q==="string"){n=q}if(n.toLowerCase().indexOf("open")>=0){this.openEvents.push(p)}if(n.toLowerCase().indexOf("close")>=0){this.closeEvents.push(p)}return this}};return new k(i)}})})(jQuery,window,document);